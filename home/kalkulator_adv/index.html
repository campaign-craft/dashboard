<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Advertorial Tribun | Modern & Responsive</title>
    <!-- Tailwind CSS for Modern UI -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Modern Font: Plus Jakarta Sans -->
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: #f1f5f9;
        }
        .tribun-blue { color: #0066B1; }
        .bg-tribun-blue { background-color: #0066B1; }
        .border-tribun-blue { border-color: #0066B1; }
        .focus-ring:focus {
            outline: none;
            border-color: #0066B1;
            box-shadow: 0 0 0 3px rgba(0, 102, 177, 0.15);
        }
        .custom-scrollbar::-webkit-scrollbar {
            width: 5px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #cbd5e1;
            border-radius: 10px;
        }
        /* Glassmorphism subtle effect */
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body class="text-slate-800 antialiased selection:bg-blue-100 selection:text-blue-900">

    <div class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="w-full bg-white border-b border-slate-200 py-6 px-4 md:px-8">
            <div class="max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4">
                <div class="flex items-center gap-4">
                    <div class="p-2.5 bg-blue-50 rounded-2xl border border-blue-100">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-7 h-7 tribun-blue" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"/><path d="M18 14h-8"/><path d="M15 18h-5"/><path d="M10 6h8v4h-8V6Z"/></svg>
                    </div>
                    <div>
                        <h1 class="text-xl md:text-2xl font-extrabold tribun-blue tracking-tight">Kalkulator Advertorial</h1>
                        <p class="text-xs md:text-sm text-slate-500 font-medium">Tribun Network • Tools Iklan Cetak</p>
                    </div>
                </div>
                <div class="hidden sm:flex items-center gap-2 text-xs font-semibold text-slate-400 bg-slate-50 px-4 py-2 rounded-full border border-slate-100">
                    <span class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></span>
                    Versi 2.1 • Desain Responsif Aktif
                </div>
            </div>
        </header>

        <main class="flex-grow max-w-7xl w-full mx-auto p-4 md:p-8">
            <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
                
                <!-- Left Side: Inputs (Lg takes 7/12) -->
                <div class="lg:col-span-7 space-y-6">
                    
                    <!-- Calculator Form Card -->
                    <div class="glass-card rounded-[2rem] p-6 md:p-8 shadow-xl shadow-slate-200/50 border border-white">
                        <div class="flex items-center gap-3 mb-8">
                            <h2 class="text-lg font-bold flex items-center gap-2">
                                <span class="w-1.5 h-6 bg-rose-500 rounded-full"></span>
                                Hitung Kapasitas Halaman
                            </h2>
                        </div>

                        <form id="calculatorForm" class="space-y-6">
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6">
                                <div class="space-y-2">
                                    <label class="text-xs font-bold uppercase tracking-wider text-slate-500 ml-1">Jenis Koran</label>
                                    <select id="paperType" onchange="updateColumnOptions()" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus-ring transition-all appearance-none cursor-pointer" required>
                                        <option value="">Pilih Jenis Koran</option>
                                        <option value="tribun">Tribun (Umum)</option>
                                        <option value="tribun_jabar">Tribun Jabar</option>
                                    </select>
                                </div>
                                <div class="space-y-2">
                                    <label class="text-xs font-bold uppercase tracking-wider text-slate-500 ml-1">Ukuran Kolom</label>
                                    <select id="columnSize" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus-ring transition-all disabled:opacity-50 appearance-none cursor-pointer" required disabled>
                                        <option value="">Pilih koran dulu</option>
                                    </select>
                                </div>
                            </div>

                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6">
                                <div class="space-y-2">
                                    <label class="text-xs font-bold uppercase tracking-wider text-slate-500 ml-1">Tinggi Advertorial (mm)</label>
                                    <div class="relative">
                                        <input type="number" id="height" min="10" max="540" placeholder="Maks. 540" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus-ring transition-all" required>
                                        <span class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 text-sm font-bold">mm</span>
                                    </div>
                                </div>
                                <div class="space-y-2">
                                    <label class="text-xs font-bold uppercase tracking-wider text-slate-500 ml-1">Ukuran Font Basis</label>
                                    <select id="fontSizePt" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus-ring transition-all appearance-none cursor-pointer">
                                        <option value="10">Palatino 10pt (Standard)</option>
                                        <option value="11">Palatino 11pt</option>
                                        <option value="12">Palatino 12pt (Besar)</option>
                                    </select>
                                </div>
                            </div>

                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6 border-t border-slate-100 pt-6">
                                <div class="space-y-2">
                                    <label class="text-xs font-bold uppercase tracking-wider text-slate-500 ml-1">Elemen Judul</label>
                                    <select id="titleLines" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus-ring transition-all appearance-none cursor-pointer">
                                        <option value="0">Tanpa Judul</option>
                                        <option value="1">1 Baris Judul (+8mm)</option>
                                        <option value="2">2 Baris Judul (+16mm)</option>
                                    </select>
                                </div>
                                <div class="space-y-2">
                                    <label class="text-xs font-bold uppercase tracking-wider text-slate-500 ml-1">Alokasi Foto</label>
                                    <select id="photoSize" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus-ring transition-all appearance-none cursor-pointer">
                                        <option value="0">Tanpa Foto</option>
                                        <option value="15">Foto Sedang (15% Area)</option>
                                        <option value="30">Foto Besar (30% Area)</option>
                                    </select>
                                </div>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 pt-4">
                                <button type="submit" class="flex-[2] bg-rose-600 hover:bg-rose-700 text-white font-bold py-4 rounded-2xl transition-all shadow-lg shadow-rose-200 active:scale-[0.98] flex items-center justify-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" /></svg>
                                    Hitung Sekarang
                                </button>
                                <button type="button" onclick="clearCalculator()" class="flex-1 px-5 bg-slate-100 hover:bg-slate-200 text-slate-600 font-bold rounded-2xl transition-all flex items-center justify-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg>
                                    Reset
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Article Check Card -->
                    <div class="glass-card rounded-[2rem] p-6 md:p-8 shadow-xl shadow-slate-200/50 border border-white">
                        <div class="flex items-center gap-3 mb-6">
                            <h2 class="text-lg font-bold flex items-center gap-2">
                                <span class="w-1.5 h-6 bg-emerald-500 rounded-full"></span>
                                Cek Artikel & Analisis Ukuran
                            </h2>
                        </div>

                        <form id="reverseForm" class="space-y-6">
                            <div class="space-y-2">
                                <label class="text-xs font-bold uppercase tracking-wider text-slate-500 ml-1">Paste Teks Artikel</label>
                                <textarea id="articleText" rows="6" placeholder="Masukkan artikel Anda untuk mendapatkan rekomendasi ukuran kolom dan tinggi..." class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus-ring transition-all resize-none custom-scrollbar text-sm leading-relaxed"></textarea>
                            </div>
                            
                            <div class="relative py-2">
                                <div class="absolute inset-0 flex items-center"><span class="w-full border-t border-slate-100"></span></div>
                                <div class="relative flex justify-center"><span class="bg-white px-3 text-[10px] text-slate-400 font-bold uppercase tracking-[0.2em]">Opsi Manual</span></div>
                            </div>

                            <div class="space-y-2">
                                <label class="text-xs font-bold uppercase tracking-wider text-slate-500 ml-1">Jumlah Karakter (Jika sudah tahu)</label>
                                <input type="number" id="manualCharCount" placeholder="0" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl focus-ring transition-all">
                            </div>

                            <button type="submit" class="w-full bg-tribun-blue hover:bg-blue-800 text-white font-bold py-4 rounded-2xl transition-all shadow-lg shadow-blue-200 active:scale-[0.98] flex items-center justify-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                                Analisis Rekomendasi
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Right Side: Results (Lg takes 5/12, Sticky) -->
                <div class="lg:col-span-5 lg:sticky lg:top-8 space-y-6">
                    
                    <!-- Placeholder -->
                    <div id="resultPlaceholder" class="h-full min-h-[300px] flex flex-col items-center justify-center bg-white/50 border-4 border-dashed border-slate-200 rounded-[2rem] p-10 text-center text-slate-400">
                        <div class="w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-6">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10 opacity-30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></svg>
                        </div>
                        <h3 class="font-bold text-slate-500 mb-2">Belum Ada Perhitungan</h3>
                        <p class="text-sm leading-relaxed">Hasil perhitungan kapasitas atau rekomendasi ukuran akan muncul di panel ini setelah Anda mengisi form.</p>
                    </div>

                    <!-- Results Content -->
                    <div id="resultSection" class="hidden space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500">
                        <div class="flex items-center justify-between">
                            <h2 class="text-xl font-extrabold flex items-center gap-2">
                                <span class="w-8 h-1 bg-tribun-blue rounded-full"></span>
                                Panel Hasil
                            </h2>
                            <button onclick="resetView()" class="text-xs font-bold text-slate-400 hover:text-rose-500 transition-colors uppercase tracking-widest">Tutup</button>
                        </div>
                        
                        <div id="resultGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4">
                            <!-- Dynamic Result Cards -->
                        </div>

                        <div id="recommendationsSection" class="bg-white rounded-[2rem] p-6 shadow-xl shadow-slate-200/40 border border-slate-100 hidden">
                            <!-- Dynamic Recommendations -->
                        </div>
                    </div>

                    <!-- Guidelines -->
                    <div class="bg-slate-900 rounded-[2rem] p-6 md:p-8 shadow-2xl text-white relative overflow-hidden">
                        <!-- Decorative SVG -->
                        <svg class="absolute right-0 bottom-0 opacity-10 w-32 h-32 -mb-8 -mr-8" fill="currentColor" viewBox="0 0 100 100"><circle cx="50" cy="50" r="50"/></svg>
                        
                        <h3 class="text-lg font-bold mb-5 flex items-center gap-2 relative z-10">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-blue-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
                            Ringkasan Pedoman
                        </h3>
                        <div class="space-y-4 text-xs md:text-sm text-slate-300 relative z-10 leading-relaxed">
                            <div class="flex items-start gap-3">
                                <span class="w-1 h-1 bg-blue-400 rounded-full mt-2 shrink-0"></span>
                                <p><strong class="text-white">Lebar Kolom:</strong> Max 7 Kolom (Tribun Umum/304mm) atau 8 Kolom (Tribun Jabar/304mm).</p>
                            </div>
                            <div class="flex items-start gap-3">
                                <span class="w-1 h-1 bg-blue-400 rounded-full mt-2 shrink-0"></span>
                                <p><strong class="text-white">Tinggi Maksimal:</strong> Satu halaman koran adalah 540mm.</p>
                            </div>
                            <div class="flex items-start gap-3">
                                <span class="w-1 h-1 bg-blue-400 rounded-full mt-2 shrink-0"></span>
                                <p><strong class="text-white">Estimasi:</strong> Hasil ini adalah perkiraan teknis. Finalisasi layout mungkin sedikit berbeda.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="w-full py-10 px-4 text-center border-t border-slate-200 bg-white">
            <p class="text-slate-400 text-xs font-bold uppercase tracking-[0.3em]">&copy; 2024 Advertorial Tribun Network</p>
        </footer>
    </div>

    <script>
        const FONT_CONSTANTS = { 10: 0.3326, 11: 0.2820, 12: 0.2317 };
        const TITLE_HEIGHT_PER_LINE = 8;
        const COLUMN_SIZES = {
            tribun: { 40: "1 Kol", 84: "2 Kol", 128: "3 Kol", 172: "4 Kol", 216: "5 Kol", 260: "6 Kol", 304: "7 Kol" },
            tribun_jabar: { 34: "1 Kol", 73: "2 Kol", 112: "3 Kol", 150: "4 Kol", 188: "5 Kol", 227: "6 Kol", 265: "7 Kol", 304: "8 Kol" }
        };

        function updateColumnOptions() {
            const paperType = document.getElementById('paperType').value;
            const columnSelect = document.getElementById('columnSize');
            columnSelect.innerHTML = '<option value="">Pilih ukuran kolom</option>';
            
            if (paperType && COLUMN_SIZES[paperType]) {
                columnSelect.disabled = false;
                Object.entries(COLUMN_SIZES[paperType]).forEach(([width, label]) => {
                    const opt = document.createElement('option');
                    opt.value = width;
                    opt.textContent = `${label} (${width}mm)`;
                    columnSelect.appendChild(opt);
                });
            } else {
                columnSelect.disabled = true;
            }
        }

        document.getElementById('calculatorForm').onsubmit = (e) => {
            e.preventDefault();
            const width = parseInt(document.getElementById('columnSize').value);
            const height = parseInt(document.getElementById('height').value);
            const photoRed = parseInt(document.getElementById('photoSize').value);
            const fontSize = parseInt(document.getElementById('fontSizePt').value);
            const titles = parseInt(document.getElementById('titleLines').value);
            const paper = document.getElementById('paperType').value;

            const titleH = titles * TITLE_HEIGHT_PER_LINE;
            const effH = height - titleH;
            if (effH <= 0) return alert("Tinggi terlalu rendah untuk judul!");

            const baseCap = Math.round((width * effH) * FONT_CONSTANTS[fontSize]);
            const finalCap = Math.round(baseCap * ((100 - photoRed) / 100));

            renderCapacityResults({
                finalCap, baseCap, width, height, effH, titles, paper, 
                colLabel: COLUMN_SIZES[paper][width], fontSize
            });
            window.scrollTo({ top: 0, behavior: 'smooth' });
        };

        document.getElementById('articleText').oninput = function() {
            document.getElementById('manualCharCount').value = this.value.length || '';
        };

        document.getElementById('reverseForm').onsubmit = (e) => {
            e.preventDefault();
            const charCount = parseInt(document.getElementById('manualCharCount').value);
            if (!charCount) return alert("Mohon masukkan teks atau jumlah karakter!");
            
            const recommendations = generateRecs(charCount);
            renderAnalysisResults(charCount, recommendations);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        };

        function generateRecs(charCount) {
            const recs = [];
            const scenarios = [{p:0, l:"No Foto"}, {p:15, l:"Foto Sedang"}, {p:30, l:"Foto Besar"}];
            ['tribun', 'tribun_jabar'].forEach(type => {
                Object.entries(COLUMN_SIZES[type]).forEach(([w, label]) => {
                    scenarios.forEach(scen => {
                        [10, 11, 12].forEach(fs => {
                            [0, 1, 2].forEach(tl => {
                                const areaReq = charCount / (FONT_CONSTANTS[fs] * ((100 - scen.p) / 100));
                                const hCont = Math.ceil(areaReq / w);
                                const totalH = hCont + (tl * TITLE_HEIGHT_PER_LINE);
                                if (totalH <= 540 && totalH > 20) {
                                    recs.push({ 
                                        type, w, totalH, label, fs, tl, 
                                        scen: scen.l, pType: type === 'tribun' ? 'Tribun Umum' : 'Tribun Jabar'
                                    });
                                }
                            });
                        });
                    });
                });
            });
            // Sort by efficiency (shorter height for same width is usually preferred)
            return recs.sort((a,b) => a.totalH - b.totalH).slice(0, 12);
        }

        function renderCapacityResults(d) {
            hidePlaceholder();
            const grid = document.getElementById('resultGrid');
            grid.innerHTML = `
                ${createCard("Kapasitas Final", d.finalCap.toLocaleString(), "Karakter Tersedia", "bg-tribun-blue text-white shadow-blue-200")}
                ${createCard("Ukuran Fisik", d.colLabel, `${d.width} x ${d.height} mm`, "bg-white border border-slate-100")}
                ${createCard("Tinggi Konten", d.effH + "mm", `Efektif setelah judul (-${d.titles * 8}mm)`, "bg-white border border-slate-100")}
                ${createCard("Font Basis", "Palatino " + d.fontSize + "pt", "Settingan Standar", "bg-white border border-slate-100")}
            `;
            document.getElementById('recommendationsSection').classList.add('hidden');
        }

        function renderAnalysisResults(count, recs) {
            hidePlaceholder();
            const grid = document.getElementById('resultGrid');
            grid.innerHTML = `
                ${createCard("Total Karakter", count.toLocaleString(), "Karakter Terdeteksi", "bg-tribun-blue text-white shadow-blue-200")}
                ${createCard("Opsi Ukuran", recs.length + " Pilihan", "Ditemukan dari analisis", "bg-white border border-slate-100")}
            `;

            const recSec = document.getElementById('recommendationsSection');
            recSec.classList.remove('hidden');
            recSec.innerHTML = `<h3 class="font-bold text-slate-800 mb-6 flex items-center gap-2"><span class="w-2 h-2 bg-emerald-500 rounded-full"></span> Rekomendasi Ukuran:</h3><div class="grid grid-cols-1 gap-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar">` + 
                recs.map((r, i) => `
                    <div class="p-4 rounded-2xl border ${i === 0 ? 'border-emerald-200 bg-emerald-50/50' : 'border-slate-100 hover:bg-slate-50'} transition-all flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 group">
                        <div>
                            <p class="font-extrabold text-sm ${i === 0 ? 'text-emerald-700' : 'text-slate-700'}">${r.pType}: ${r.label} (${r.w}x${r.totalH}mm)</p>
                            <p class="text-[10px] text-slate-400 mt-1 uppercase font-bold tracking-wider">${r.scen} • Font ${r.fs}pt • ${r.tl} Baris Judul</p>
                        </div>
                        <div class="flex items-center justify-between sm:justify-end gap-2 shrink-0">
                            <span class="text-[9px] font-black px-3 py-1.5 rounded-full ${i === 0 ? 'bg-emerald-500 text-white' : 'bg-slate-200 text-slate-500'}">
                                ${i === 0 ? 'PALING EFISIEN' : '#' + (i+1)}
                            </span>
                        </div>
                    </div>
                `).join('') + `</div>`;
        }

        function createCard(title, val, sub, cls) {
            return `
                <div class="${cls} p-6 rounded-[1.8rem] transition-all hover:scale-[1.03] hover:shadow-xl duration-300">
                    <p class="text-[10px] font-black uppercase tracking-[0.15em] opacity-70 mb-2">${title}</p>
                    <p class="text-2xl font-black tracking-tight">${val}</p>
                    <p class="text-xs opacity-60 mt-2 font-medium leading-relaxed">${sub}</p>
                </div>
            `;
        }

        function hidePlaceholder() {
            document.getElementById('resultPlaceholder').classList.add('hidden');
            document.getElementById('resultSection').classList.remove('hidden');
        }

        function clearCalculator() {
            document.getElementById('calculatorForm').reset();
            updateColumnOptions();
            resetView();
        }

        function clearReverse() {
            document.getElementById('reverseForm').reset();
            resetView();
        }

        function resetView() {
            document.getElementById('resultPlaceholder').classList.remove('hidden');
            document.getElementById('resultSection').classList.add('hidden');
            document.getElementById('recommendationsSection').classList.add('hidden');
        }
    </script>
</body>
</html>